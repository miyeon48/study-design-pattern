프록시 패턴 (Proxy Pattern) 
---
#### 특정 객체로 접근을 제어하는 대리인을 제공하는 패턴

--- 

### 필요 상황

- 원격 프록시
- 가상 프록시
- 보호 프록시
- 방화벽 프록시
- 스마트 레퍼런스 프록시
- 캐싱 프록시 
- 동기화 프록시
- 복잡도 숨김 프록시
- 지연 복사 프록시....


---

### 프록시 패턴 적용예제 1 
#### 💡스프링 프레임워크에 적용된 프록시 패턴을 찾아보자

> 스프링 AOP (Aspect-Oriented Programming)
- 어떤 프로그램을 만들 때 코드를 모듈화하는 데 도움을 주는 기술 
- 로그를 남기는 일, 예외를 처리하는 일, 보안 관련 작업 등 공통된 작업이 있음 
- 코드가 복잡해지지않게 이러한 공통기능을 모아서 관리함
- 스프링 AOP의 구현을 위해 아래 두가지 프록시 방식이 사용됨


> JDK Dynamic Proxy
- JDK 다이나믹 프록시는 대상 객체가 인터페이스를 구현한 경우에 사용함
- 스프링에서는 인터페이스를 기반으로 프록시를 생성하여 AOP를 구현
- 보통 인터페이스를 사용하여 비즈니스 로직에 AOP를 적용하는 경우, JDK 다이나믹 프록시가 선택되서 사용됨

> CGLIB Proxy 
- CGLIB는 클래스를 상속받아 동적으로 새로운 클래스를 생성하는 방식으로 프록시를 생성함
- JDK 다이나믹 프록시와는 달리, 인터페이스를 구현하지 않은 클래스 와 FINAL 클래스에 대해서도 프록시를 생성할 수 있음

> 왜 두가지로 나눴을까? 
- Java Dynamic Proxy 는 자바의 표준 라이브러리 초기버전에서 먼저 제공하고 있었음 (java.lang.reflect 패키지)
- CGLIB는 자바의 바이트코드를 조작하기 위한 외부 라이브러리임



스프링은 AOP 프록시를 생성하고 호출하는 부분을 다양한 클래스와 인터페이스를 통해 추상화함

> 참고. 토비의 스프링 6.4 ProxyFactoryBean